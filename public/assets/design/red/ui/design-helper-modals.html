<div class="design2 designer-container">
<link href="/assets/design/jquery/css/smoothness/jquery-ui-1.10.3.custom.min.css" rel="stylesheet" media="screen"/>
<link rel="stylesheet" type="text/css" href="/assets/design/orion/built-editor.css"/>
<!-- <link rel="stylesheet" href="/assets/design/style.css"/> -->

<div class="page-header">
    <div class="btn-group">
        <div class="btn-group dropdown-container">
            <button class="dropdown-toggle btn btn-lg btn-default" data-toggle="dropdown">
                <i class="fa fa-align-justify"></i> <span class="caret"></span>
            </button>
            <ul class="dropdown-menu">
                <li><a id="btn-sidebar" tabindex="-1" href><i class="fa fa-list-alt"></i> Toggle Sidebar</a></li>
                <li><a id="btn-config-nodes" tabindex="-1" href><i class="fa fa-th-list"></i> Configure nodes</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Import From</li>
                <li><a id="btn-import" href><i class="fa fa-clipboard"></i> Clipboard</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Export To</li>
                <li id="li-menu-export-clipboard">
                    <a id="btn-export-clipboard" tabindex="-1" href><i class="fa fa-clipboard"></i> Clipboard</a>
                </li>
                <li class="divider"></li>
                <li class="dropdown-header">Workspace</li>
                <li><a id="btn-workspace-add" href><i class="fa fa-plus"></i> Add</a></li>
                <li><a id="btn-workspace-edit" href><i class="fa fa-edit"></i> Rename</a></li>
                <li><a id="btn-workspace-delete" href><i class="fa fa-minus"></i> Delete</a></li>
                <li class="divider"></li>
                <li><a id="btn-keyboard-shortcuts" href><i class="fa fa-keyboard-o"></i> Keyboard Shortcuts</a></li>
                <li><a id="btn-help" href="http://node-red.github.io/docs" target="_blank"><i
                        class="fa fa-question"></i> Help</a></li>
            </ul>
        </div>
        <button ng-click="save()" class="btn btn-lg btn-default">
            <i class="fa fa-floppy-o"></i> Save
        </button>
        <button ng-click="deploy()" id="btn-deploy" class="btn btn-lg btn-default btn-deploy">
            <i class="fa fa-upload"></i> Deploy
        </button>
    </div>
</div>

<div id="main-container" class="main-container sidebar-closed">
    <palette flow-node-types="flowNodeTypes"></palette>

    <div id="workspace" class="workspace">
        <div class="red-tabs-container">
            <ul class="red-tabs" id="workspace-tabs"></ul>
            <div class="red-add-tab"><a id="btn-workspace-add-tab" href><i class="fa fa-plus"></i></a></div>
        </div>
        <div class="chart-zoom-controls" id="chart-zoom-controls">
            <div class="btn-group">
                <a class="btn btn-mini" id="btn-zoom-out" href><i class="fa fa-search-minus"></i></a>
                <a class="btn btn-mini" id="btn-zoom-zero" href><i class="fa fa-th"></i></a>
                <a class="btn btn-mini" id="btn-zoom-in" href><i class="fa fa-search-plus"></i></a>
            </div>
        </div>
        <div id="chart"></div>
        <div id="workspace-toolbar">
            <div class="btn-group">
                <a class="btn btn-small" href><i class="fa fa-search-minus"></i></a>
                <a class="btn btn-small" href><i class="fa fa-th"></i></a>
                <a class="btn btn-small" href><i class="fa fa-search-plus"></i></a>
            </div>
        </div>
    </div>


    <div id="sidebar" class="edit-panel">

        <div class="node-editor" ng-hide="!editingNode">
            <h3 class="node-editor-header" >
                <input placeholder="Name" type="text" class="form-control" ng-model="editingNodeName">
            </h3>
            <schema-editor control="schemaControl"
                           model="editingNode" allow-json-edit="true" additional-properties="true" schema="editingNodeSchema"></schema-editor>
            <button ng-click="updateNodeProperties()" class="btn btn-lg btn-primary save">Update Node</button>
        </div>
    </div>

    <div id="sidebar-separator"></div>
</div>

<div id="notifications"></div>
<div id="dropTarget">
    <div>Drop the flow here</div>
</div>

<div id="dialog">
    <form id="dialog-form" class="form-horizontal"></form>
</div>
<div id="node-config-dialog">
    <form id="dialog-config-form" class="form-horizontal"></form>
    <div class="form-tips" id="node-config-dialog-user-count"></div>
</div>

<div id="node-dialog-confirm-deploy">
    <form class="form-horizontal">
        <div id="node-dialog-confirm-deploy-config" style="text-align: center; padding-top: 30px;">
            Some of the nodes are not properly configured. Are you sure you want to deploy?
        </div>
        <div id="node-dialog-confirm-deploy-unknown" style="text-align: center; padding-top: 10px;">
            The workspace contains some unknown node types:
            <ul style="width: 300px; margin: auto; text-align: left;" id="node-dialog-confirm-deploy-unknown-list"></ul>
            Are you sure you want to deploy?
        </div>
    </form>
</div>

<div id="node-help" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="node-help-label" aria-hidden="true">
    <div class="modal-header">
        <h5 id="node-help-label">Keyboard Shortcuts <span style="float: right;"><a href="http://node-red.github.io/docs"
                                                                                   target="_blank">Open help in new
            window &raquo;</a></span></h5>
    </div>
    <div class="modal-body">
        <table>
            <tr>
                <td><span class="help-key">?</span></td>
                <td>Help</td>
                <td><span class="help-key">Ctrl</span> <span class="help-key">a</span></td>
                <td>Select all nodes</td>
            </tr>
            <tr>
                <td><span class="help-key">Ctrl</span> <span class="help-key">Space</span></td>
                <td>Toggle sidebar</td>
                <td><span class="help-key">Shift</span> <span class="help-key">Click</span></td>
                <td>Select all connected nodes</td>
            </tr>
            <tr>
                <td><span class="help-key">Ctrl</span> <span class="help-key">z</span></td>
                <td>Undo</td>
                <td><span class="help-key">Ctrl</span> <span class="help-key">Click</span></td>
                <td>Add/remove node from selection</td>
            </tr>
            <tr>
                <td></td>
                <td></td>
                <td><span class="help-key">Delete</span></td>
                <td>Delete selected nodes or link</td>
            </tr>
            <tr>
                <td><span class="help-key">Ctrl</span> <span class="help-key">x</span></td>
                <td>Cut selected nodes</td>
                <td></td>
                <td></td>
            </tr>
            <tr>
                <td><span class="help-key">Ctrl</span> <span class="help-key">c</span></td>
                <td>Copy selected nodes</td>
                <td><span class="help-key">Ctrl</span> <span class="help-key">v</span></td>
                <td>Paste nodes</td>
            </tr>
            <tr>
                <td><span class="help-key">Ctrl</span> <span class="help-key">i</span></td>
                <td>Import nodes</td>
                <td><span class="help-key">Ctrl</span> <span class="help-key">e</span></td>
                <td>Export selected nodes</td>
            </tr>
            <tr>
                <td colspan="2"></td>
            </tr>
            <tr>
                <td><span class="help-key">Ctrl</span> <span class="help-key">+</span></td>
                <td>Zoom in</td>
                <td><span class="help-key">Ctrl</span> <span class="help-key">-</span></td>
                <td>Zoom out</td>
            </tr>
        </table>
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
    </div>
</div>

<div id="node-dialog-library-save-confirm" class="hide">
    <form class="form-horizontal">
        <div style="text-align: center; padding-top: 30px;">
            A <span id="node-dialog-library-save-type"></span> called <span id="node-dialog-library-save-name"></span>
            already exists. Overwrite?
        </div>
    </form>
</div>

<div id="node-dialog-library-save" class="hide">
    <form class="form-horizontal">
        <div class="form-row">
            <label for="node-dialog-library-save-folder"><i class="fa fa-folder-open"></i> Folder</label>
            <input type="text" id="node-dialog-library-save-folder" placeholder="Folder">
        </div>
        <div class="form-row">
            <label for="node-dialog-library-save-filename"><i class="fa fa-file"></i> Filename</label>
            <input type="text" id="node-dialog-library-save-filename" placeholder="Filename">
        </div>
    </form>
</div>

<div id="node-dialog-library-lookup" class="hide">
    <form class="form-horizontal">
        <div class="form-row">
            <ul id="node-dialog-library-breadcrumbs" class="breadcrumb">
                <li class="active"><a href>Library</a> <span class="divider">/</span></li>
            </ul>
        </div>
        <div class="form-row">
            <div style="vertical-align: top; display: inline-block; height: 100%; width: 30%; padding-right: 20px;">
                <div id="node-select-library"
                     style="border: 1px solid #999; width: 100%; height: 100%; overflow:scroll;">
                    <ul></ul>
                </div>
            </div>
            <div style="vertical-align: top; display: inline-block;width: 65%; height: 100%;">
                <div style="height: 100%; width: 95%;" class="node-text-editor" id="node-select-library-text"></div>
            </div>
        </div>
    </form>
</div>

<div id="node-dialog-rename-workspace">
    <form class="form-horizontal">
        <div class="form-row">
            <label for="node-input-workspace-name"><i class="fa fa-tag"></i> Name:</label>
            <input type="text" id="node-input-workspace-name">
        </div>
    </form>
</div>
<div id="node-dialog-delete-workspace">
    <form class="form-horizontal">
        <div style="text-align: center; padding-top: 30px;">
            Are you sure you want to delete '<span id="node-dialog-delete-workspace-name"></span>'?
        </div>
    </form>
</div>
<script type="text/x-red" data-template-name="export-clipboard-dialog">
        <div class="form-row">
            <label for="node-input-export" style="display: block; width:100%;"><i class="fa fa-share"></i> Nodes:</label>
            <textarea readonly style="font-family: monospace; font-size: 12px; background:rgb(226, 229, 255); padding-left: 0.5em;" class="input-block-level" id="node-input-export" rows="5"></textarea>
        </div>
        <div class="form-tips">
            Select the text above and copy to the clipboard with Ctrl-A Ctrl-C.
        </div>


</script>
<script type="text/x-red" data-template-name="export-to-community">
        <div id="node-export-community-error" class="form-errors" style="color: red;"></div>
        <form id="export-to-community-form">
            <input type="hidden" id="node-input-export-community" name="flow" value="" />
            <div class="form-row">
                <label for="title">Title</label>
                <input type="text" name="title" value="" id="export-to-community-title" placeholder="My Custom Flow" />
            </div>
            <div class="form-row">
                <label for="desc">Description</label>
                <textarea name="desc" placeholder="My flow description..." id="export-to-community-desc" />
            </div>
            <div class="form-tips">
                Add a title and description, the click share.
            </div>
        </form>


</script>
<script type="text/x-red" data-template-name="export-library-dialog">
        <div class="form-row">
            <label for="node-input-filename" ><i class="fa fa-tag"></i> Filename:</label>
            <input type="text" id="node-input-filename" placeholder="Filename">
        </div>


</script>
<script type="text/x-red" data-template-name="import-dialog">
        <div class="form-row">
            <label for="node-input-export"><i class="fa fa-share"></i>Nodes:</label>
            <textarea style="font-family: monospace; font-size: 12px; background:rgb(226, 229, 255); padding-left: 0.5em;" class="input-block-level" id="node-input-import" rows="5" placeholder="Paste nodes here, or lookup in the library"></textarea>
        </div>


</script>
</div>
