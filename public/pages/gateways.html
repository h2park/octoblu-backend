<div>
  <div class="pull-left"><strong>Your UUID is:</strong> {{skynetuuid}}</div>
</div><br /><br />

<div class='row'>
  <div class='col-sm-12 box'>
    <div class='box-header'>
      <div class='title pull-left'>
        <i class='icon-exchange'></i>
        Gateways
      </div>
      <div class='pull-right'>
<!--         <button ng-click="editGateway = true" class="btn btn-primary" ng-hide="editGateway">
          <i class="icon-chevron-down"></i> Add Device
        </button>
 -->        
        <button ng-click="editGatewayCancel()" class="btn btn-primary" ng-show="editGatewaySection">
          <i class="icon-chevron-up"></i> Cancel
        </button>

      </div>      
    </div>
    <div class="col-sm-12" ng-show="editGatewaySection">
      <h3>Edit Gateway</h3>   
      <form name="myForm">          
        <input class="form-control" name="gatewayName" ng-model="gatewayName" placeholder="Gateway Name (required)" ng-value="gatewayName" required id="gatewayName">
        <!-- <span ng-show="duplicateDevice" style="color:red;">Device name already exists.</span> -->
        <br />

        <div ng-repeat="key in keys" class="form-inline">
          <div class="form-group">
            <input class="form-control" ng-model="key.key" placeholder="Key">
          </div>
          <div class="form-group">
            <input class="form-control" ng-model="key.value" placeholder="Value">
          </div>
          <a href ng-click="removeKeyVals($index)"> <i class="icon-minus"></i></a>
          <a href ng-click="addKeyVals()"> <i class="icon-plus"></i></a>

        </div>

        <br />
        <button class="btn" ng-click="updateGateway()">Submit</button>  
        <br /><br />            
      </form>
    </div>

    <div ng-hide="gateways.length">No gateways found</div>
    <div class="panel panel-primary" ng-repeat="gateway in gateways">
      <div class="panel-heading">
        <h3 class="panel-title">
          <div>
            {{gateway.name}} - {{gateway.uuid}}
            <button class="btn btn-inverse" ng-click="editGateway($index)"><i class="icon-edit"></i></button>
            <button class="btn btn-danger" ng-click="deleteGateway($index)"><i class="icon-trash"></i></button>
            <a class="btn" href="/gateway?uuid={{gateway.uuid}}"><i class="icon-reply"></i> Goto</a>

            <span class="pull-right" ng-show="gateway.online"> online </span>

          </div>
        </h3>
      </div>
      <div class="panel-body">
        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <tr>
              <th>Name</th>
              <th>Version</th>
            </tr>

            <tr ng-repeat="plugin in gateway.plugins">
            <!-- <tr ng-repeat="plugin in plugins"> -->
              
              <td>
                {{plugin.name}}
              </td>
              <td>{{plugin.version}}</td>

            </tr>
          </table>
        </div>

        <div class="table-responsive">
          <table class="table table-striped table-hover">
            <tr>
              <th>Name</th>
              <th>Type</th>
            </tr>

            <tr ng-repeat="subdevice in gateway.subdevices.value">
            <!-- <tr ng-repeat="subdevice in subdevices"> -->
              
              <td>
                {{subdevice.name}}
              </td>
              <td>{{subdevice.type}}</td>

            </tr>
          </table>
        </div>



      </div>
    </div>

<!--     <div class="table-responsive">
      <table class="table table-striped table-hover">
        <tr>
          <th>Name</th>
          <th>UUID</th>
          <th>Online</th>
          <th>Action</th>
        </tr>

        <tr ng-repeat="gateway in gateways">
          
          <td>
            {{gateway.name}}
          </td>
          <td>{{gateway.uuid}}</td>
          <td>{{gateway.online}}</td>
          <td>
            <a class="btn" href="/gateway?uuid={{gateway.uuid}}">Goto</a>
            <button class="btn btn-inverse" ng-click="editGateway($index)">Claim/Edit</button>
            <button class="btn btn-danger" ng-click="deleteGateway($index)">Delete</button>
            <button class="btn btn-primary" ng-click="getGatewayPlugins($index)">Plugins</button>
            <button class="btn btn-primary" ng-click="getGatewaySubdevices($index)">Subdevices</button>
          </td>


        </tr>
      </table>
    </div>
 -->  
  </div>
</div>
