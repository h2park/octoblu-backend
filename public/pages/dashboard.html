<style type="text/css">
    .dashboard-panel {
        text-align: center;
    }

    .dashboard-panel h1 {
        text-decoration: inherit;
        color: inherit;
        margin-bottom: 20px;
    }
</style>

<div class="col-xs-12">
    <div class="page-header page-header-with-buttons">
        <h1 class="pull-left">
            <i class="icon-dashboard"></i>
            <span>Dashboard - {{user}}</span>
        </h1>

        <h1 class="pull-right" style="margin-top: 20px;">
            <button class="btn btn-lg btn-default">Upgrade Plan</button>
        </h1>

    </div>
    <div class="row">
        <div class="col-sm-4 dashboard-panel">
            <div class="panel-heading">
                <h3 class="panel-title">Devices</h3>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div ng-switch="!!devices ? devices.length : 0">
                        <h1>
                            <div ng-switch-when="0"><i class="fa fa-cog fa-spin"></i></div>
                            <div ng-switch-default><a href="" ui-sref="^.connector.devices.all">{{devices.length}}</a>
                            </div>
                        </h1>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 dashboard-panel">
            <div class="panel-heading">
                <h3 class="panel-title">Active Channels</h3>
            </div>
            <div class="panel panel-default">

                <div class="panel-body">
                    <div ng-switch="!!channels ? 1 : 0">
                        <h1>
                            <div ng-switch-when="0"><i class="fa fa-cog fa-spin"></i></div>
                            <div ng-switch-default><a href ui-sref="ob.connector.channels.index">{{channels.length}}</a>
                            </div>
                        </h1>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-4 dashboard-panel">
            <div class="panel-heading">
                <h3 class="panel-title">Total Messages (30 days)</h3>
            </div>
            <div class="panel panel-default">
                <div class="panel-body">
                    <div ng-switch="!!messages ? 1 : 0">
                        <h1>
                            <div ng-switch-when="0"><i class="fa fa-cog fa-spin"></i></div>
                            <div ng-switch-default><a href="" ui-sref="^.analyzer">{{messages.total}}</a></div>
                        </h1>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-8 dashboard-panel">
            <div class="panel-heading">
                <h3 class="panel-title">Messages</h3>
            </div>
            <div class="panel panel-default">
                <a href="" ui-sref="^.analyzer">
                    <div class="panel-body">
                        <div ng-switch="!!messages ? 1 : 0">
                            <div ng-switch-when="0"><h1><i class="fa fa-cog fa-spin"></i></h1></div>
                            <div ng-switch-default>
                                <div nvd3-line-chart show-legend="false" axis-x-label="Day" axis-x-type="date"
                                     axis-x-format="%-m/%-d" data="messages.times" height="300"></div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <div class="col-sm-4 dashboard-panel">
            <div class="panel-heading">
                <h3 class="panel-title">Message Types</h3>
            </div>
            <div class="panel panel-default">
                <a href="" ui-sref="^.analyzer">
                    <div class="panel-body">
                        <div ng-switch="!!messages ? 1 : 0">
                            <div ng-switch-when="0"><h1><i class="fa fa-cog fa-spin"></i></h1></div>
                            <div ng-switch-default>
                                <div nvd3-pie-chart data="messages.types" height="300"></div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
    </div>
</div>