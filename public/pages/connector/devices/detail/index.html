<md-toolbar>
  <h2 class="md-toolbar-tools page-heading" layout="row" layout-align="space-between">
    <div flex layout="row">
      <a href class="menu-icon" ng-click="toggleNav()">
        <i class="fa fa-bars"></i>
        Device
      </a>
    </div>

    <md-button ng-click="resetToken(device)" aria-label="Reset Token">
      <md-tooltip>Reset Token</md-tooltip>
      <i class="fa fa-key"></i>
      Reset Token
    </md-button>

    <md-button ng-click="deleteDevice(device)" aria-label="Delete Device">
      <md-tooltip>Delete Device</md-tooltip>
      <i class="fa fa-trash"></i>
      Delete
    </md-button>
  </h2>
</md-toolbar>

<md-content>
  <div flex class="container">
    <div class="row device-detail">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <div class="row">
          <div class="col-xs-12">
            <h2>
              <i class="fa fa-power-off" ng-class="{'text-success': device.online, 'text-muted': ! device.online}"></i>
              {{device.name}}
            </h2>
            <h4 class="text-muted">
              {{device.uuid}}
            </h4>
          </div>
        </div>

        <div>
          <message-grapher device="device.uuid"></message-grapher>
        </div>

        <section class="col-xs-12">
          <tabset>
            <tab heading="Properties">
              <div ng-include="'/pages/connector/devices/detail/device-properties.html'"></div>
            </tab>
            <tab heading="Accessible By">
              <div ng-include="'/pages/connector/devices/detail/device-target-permissions.html'"></div>
            </tab>
            <tab heading="Controls">
              <div ng-include="'/pages/connector/devices/detail/device-source-permissions.html'"></div>
            </tab>
            <tab heading="Groups">
              <ul class="list-group">
                <div class="panel panel-default col-xs-6">
                  <div class="panel-heading">
                    Access Groups
                  </div>
                  <div class="panel-body">
                    <ul class="list-group">
                      <li class="list-group-item" ng-repeat="group in targetGroups | orderBy: group.name">
                        <a href ui-sref="material.admin.detail({uuid : group.uuid})">{{group.name}}</a>
                      </li>

                    </ul>
                  </div>
                </div>
                <div class="panel panel-default col-xs-6">
                  <div class="panel-heading">
                    Control Groups
                  </div>
                  <div class="panel-body">
                    <ul class="list-group">
                      <li class="list-group-item" ng-repeat="group in sourceGroups | orderBy: group.name">
                        <a href ui-sref="material.admin.detail({uuid : group.uuid})">{{group.name}}</a>
                      </li>
                    </ul>
                  </div>
                </div>
              </ul>
            </tab>
          </tabset>
        </section>
      </div>
    </div>
  </div>
</md-content>
